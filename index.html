<!DOCTYPE html><html lang="cn" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>David</title><meta name="author" content="su david"><meta name="copyright" content="su david"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="David">
<meta property="og:url" content="https://davidsu.top/index.html">
<meta property="og:site_name" content="David">
<meta property="og:locale">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="su david">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://davidsu.top/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'David',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-01-30 17:10:28'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="David" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr/></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="David"><span class="site-name">David</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">David</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/01/30/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-30T07:01:35.161Z" title="Created 2023-01-30 15:01:35">2023-01-30</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy

More info: Deployment
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/01/09/%E4%BF%A1%E5%8F%B7%E9%87%8F%E3%80%81NSLock%E5%92%8Csynchronized/" title="No title">No title</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-09T06:13:47.431Z" title="Created 2023-01-09 14:13:47">2023-01-09</time></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/01/09/WKWebView%20allowsBackForwardNavigationGestures%20%E5%B1%9E%E6%80%A7%E5%88%86%E8%A7%A3/" title="No title">No title</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-09T02:40:49.334Z" title="Created 2023-01-09 10:40:49">2023-01-09</time></span></div><div class="content">WKWebView allowsBackForwardNavigationGestures属性作用是设置手势前进后退，若需要单独控制前进或者后退则需要对该属性进行分解。分析发现WKWebView的前进后退是由两个UIScreenEdgePanGestureRecognizer (UIRectEdgeLeft、UIRectEdgeRigth) 手势来控制的，在allowsBackForwardNavigationGestures SET 操作时候进行了手势的增加删除（删除手势并且手势的target会被置nil）。并不是单纯的enabled设置。
找到手势就好办了，创建一个AYWKWebView 继承 WKWebView

用NS_UNAVAILABLE宏禁用allowsBackForwardNavigationGestures，并且定义两个分解属性在WebView init时候调用super.allowsBackForwardNavigationGestures &#x3D; YES; （self.allowsBackForwardNavigationGestures已经被禁用），重写- ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/01/09/Xocde%20%20Developer%20Tools%20Access%20%E6%8F%90%E7%A4%BA%E5%A4%84%E7%90%86%E5%8A%9E%E6%B3%95/" title="No title">No title</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-09T02:40:45.520Z" title="Created 2023-01-09 10:40:45">2023-01-09</time></span></div><div class="content">Xocde  Developer Tools Access 提示处理办法
终端内执行DevToolsSecurity –status 查看状态，，如果现实状态为disable，就会出现我们碰到的问题，我们只需要把状态改为
DevToolsSecurity –enable.就可以解决这个问题
解决方案:
打开终端输入下边命令：
DevToolsSecurity –status 查看状态
DevToolsSecurity –enable 输入密码，修改为enable，即可用
DevToolsSecurity –disable 输入密码，修改为disable，即关闭
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/01/09/xcode%20%20%E8%BF%90%E8%A1%8C%E7%9C%9F%E6%9C%BA%E6%8A%A5%20%20%20bitcode%20bundle%20could%20not%20be%20generated/" title="No title">No title</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-09T02:40:45.495Z" title="Created 2023-01-09 10:40:45">2023-01-09</time></span></div><div class="content">xcode  运行真机报   bitcode bundle could not be generated1.联系第三方框架的提供者， 让他们支持bitcode，这个执行起来有难度。2.要么在项目中将bitcode设为No，可以在”Build Settings”-&gt;”Enable Bitcode”选项中看到这个
![image-20230109100727377](&#x2F;Users&#x2F;david&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230109100727377.png)
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/01/09/%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86id%20%E4%BB%A5%E5%8F%8A%20Class/" title="No title">No title</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-09T02:40:27.934Z" title="Created 2023-01-09 10:40:27">2023-01-09</time></span></div><div class="content">重新认识id 以及 Classid:类   class:对象我们首先写一个Class去看系统的 API：
1typedef struct objc_class *Class;
这时我们可以看到下面有个id 类型的结构体,并且里面只有一个Class类型的指针isa：
1234typedef struct objc_object *id;   struct objc_object &#123;    Class _Nonnull isa  OBJC_ISA_AVAILABILITY;&#125;;
我们在来看一下objc_class 的结构体里面有什么：
12345678910111213141516struct objc_class &#123;	    Class _Nonnull isa  OBJC_ISA_AVAILABILITY;         //元类指针#if !__OBJC2__                                         //这个下面的现在已经不用了！！！	    Class _Nullable super_class         ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/01/09/UILabel%20%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%E6%8C%89%E7%85%A7%E5%AD%97%E8%8A%82%E6%8D%A2%E8%A1%8C/" title="No title">No title</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-09T02:40:27.913Z" title="Created 2023-01-09 10:40:27">2023-01-09</time></span></div><div class="content">UILabel 如何设置按照字节换行1tipLabel.lineBreakMode = NSLineBreakByCharWrapping;

12345678typedef NS_ENUM(NSInteger, NSLineBreakMode) &#123;    NSLineBreakByWordWrapping = 0,         // Wrap at word boundaries, default    NSLineBreakByCharWrapping,        // Wrap at character boundaries    NSLineBreakByClipping,        // Simply clip    NSLineBreakByTruncatingHead,    // Truncate at head of line: &quot;...wxyz&quot;    NSLineBreakByTruncatingTail,    // Truncate at tail of line: &quot;abcd...&quot;    NSL ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/01/09/xib%E6%B7%BB%E5%8A%A0%E6%89%8B%E5%8A%BF%E5%90%8E%E6%8A%A5%E9%94%99:-%5BUITapGestureRecognizer%20setFrame:%5D:%20unrecognized%20selector%20sent%20to%20instance%20xxx.../" title="No title">No title</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-09T02:40:16.291Z" title="Created 2023-01-09 10:40:16">2023-01-09</time></span></div><div class="content">xib添加手势后报错:-[UITapGestureRecognizer setFrame:]: unrecognized selector sent to instance xxx…主要原因如下:
1234(instancetype)mineHeaderView&#123;  return [[[NSBundle mainBundle] loadNibNamed:NSStringFromClass([self class]) owner:self options:nil] lastObject];&#125;


添加手势后, 以上的创建对象方法就不可以通过lastObject来获取了, 因为获取到的是最后添加的手势对象, 所以才会出现这个错误
解决方法:
将lastObject改为firstObject即可..
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/01/09/%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E8%AE%BE%E5%A4%87%E6%97%B6%E9%97%B4/" title="No title">No title</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-09T02:40:08.499Z" title="Created 2023-01-09 10:40:08">2023-01-09</time></span></div><div class="content">获取当前时间12345NSDate *date = [NSDate date];NSDateFormatter *formatter = [[NSDateFormatter alloc] init];[formatter setDateFormat:@&quot;yyyy-MM-dd HH:mm:ss&quot;];//获取当前时间日期展示字符串 如：2019-05-23-13:58:59NSString *str = [formatter stringFromDate:date];

</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/01/09/SEL%E3%80%81IMP%E3%80%81Method/" title="No title">No title</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-09T02:40:00.517Z" title="Created 2023-01-09 10:40:00">2023-01-09</time></span></div><div class="content">先说一个大家都熟悉的  SEL
ID 就是```SEL```类型的。我们需要注意的是，只要方法的名字和参数序列完全相同,那么它们的 ID编号就是相同的。(这里我先提出个问题，既然```SEL```是方法的唯一标识，那不同的类调用名字相同的方法怎么办呢？稍后解答。。。)1&gt;#####常见的几种方法来获取/创建选择器:
SEL aSel &#x3D; @selector(didReceiveMemoryWarning);SEL a_sel &#x3D; NSSelectorFromString(@”didReceiveMemoryWarning”);SEL a_Sel &#x3D; sel_registerName(“didReceiveMemoryWarning”);

1打印结果：
[5192:325263] 0x1214054bc___0x1214054bc___0x1214054bc
1SEL的操作函数:
&#x2F;&#x2F; 比较两个选择器BOOL sel_isEqual ( SEL lhs, SEL rhs );&#x2F;&#x2F;判断方法名是否映射到某个函数实现 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">su david</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/01/30/hello-world/" title="Hello World">Hello World</a><time datetime="2023-01-30T07:01:35.161Z" title="Created 2023-01-30 15:01:35">2023-01-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/01/09/%E4%BF%A1%E5%8F%B7%E9%87%8F%E3%80%81NSLock%E5%92%8Csynchronized/" title="No title">No title</a><time datetime="2023-01-09T06:13:47.431Z" title="Created 2023-01-09 14:13:47">2023-01-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/01/09/WKWebView%20allowsBackForwardNavigationGestures%20%E5%B1%9E%E6%80%A7%E5%88%86%E8%A7%A3/" title="No title">No title</a><time datetime="2023-01-09T02:40:49.334Z" title="Created 2023-01-09 10:40:49">2023-01-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/01/09/Xocde%20%20Developer%20Tools%20Access%20%E6%8F%90%E7%A4%BA%E5%A4%84%E7%90%86%E5%8A%9E%E6%B3%95/" title="No title">No title</a><time datetime="2023-01-09T02:40:45.520Z" title="Created 2023-01-09 10:40:45">2023-01-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/01/09/xcode%20%20%E8%BF%90%E8%A1%8C%E7%9C%9F%E6%9C%BA%E6%8A%A5%20%20%20bitcode%20bundle%20could%20not%20be%20generated/" title="No title">No title</a><time datetime="2023-01-09T02:40:45.495Z" title="Created 2023-01-09 10:40:45">2023-01-09</time></div></div></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">January 2023</span><span class="card-archive-list-count">19</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">19</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-01-30T09:10:28.862Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By su david</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>